# mpstat

## 描述

显示各个处理器相关的统计信息

主要用于多CPU环境下，它显示各个可用CPU的状态信息。这些信息存放在`/proc/stat`文件中。在多CPU系统里，其不但能查看所有CPU的平均状况信息，而且能够查看特定CPU的信息

## 语法格式

```shell
mpstat [ -A ] [ -u ] [ -V ] [ -I { SUM | CPU | SCPU | ALL } ] [ -P { cpu [,...] | ON | ALL } ] [ interval [ count ] ]
```

## 常用参数

```shell
internal	相邻的两次采样的间隔时间
count		采样的次数
-A		此选项等效于指定-u -I ALL -P ALL
-I		{SUM | CPU | SCPU | ALL}
        报告中断统计信息
        SUM关键字，mpstat命令报告每个处理器的中断总数
        CPU关键字，显示一个或多个CPU每秒接收的每个单独中断的数量
        SCPU关键字，显示一个或多个CPU每秒接收的每个软件中断的数量
        ALL关键字等效于指定上面的所有关键字，因此将显示所有中断统计信息
-P		{ cpu [,...] | ON | ALL }指示要报告其统计信息的处理器编号
		cpu是处理器编号，处理器0是第一个处理器
		ON关键字表示将为每个联机处理器报告统计信息
		ALL关键字指示将为所有处理器报告统计信息
-u		报告CPU利用率
```

## 实例

![image-20200409204523091](E:\markdata\images\image-20200409204523091.png)

| 选项        | 说明                                                         |
| ----------- | ------------------------------------------------------------ |
| **CPU**     | 处理器号码。关键字ALL表示统计数据是以所有处理器之间的平均值计算的。 |
| **%usr**    | 显示在用户级别(应用程序)执行时出现的CPU利用率百分比。        |
| **%nice**   | 以良好的优先级在用户级别执行时显示CPU利用率的百分比。        |
| **%sys**    | 显示在系统级(内核)执行时CPU利用率的百分比。请注意，这不包括用于服务硬件和软件中断的时间。 |
| **%iowait** | 显示CPU或CPU空闲的时间百分比，在此期间，系统有未执行的磁盘I/O请求。 |
| **%irq**    | 显示cpu或cpu用于服务硬件中断的时间百分比。                   |
| **%soft**   | 显示CPU或CPU用于服务软件中断的时间百分比。                   |
| **%steal**  | 显示虚拟机管理程序为另一个虚拟处理器服务时，虚拟CPU或CPU在非自愿等待中花费的时间百分比。 |
| **%guest**  | 显示CPU或cpu运行虚拟处理器所花费的时间百分比。               |
| **%gince**  | 显示一个或多个CPU运行一个好的guest虚拟机所花费的时间百分比   |
| **%idle**   | 显示CPU或CPU空闲的时间百分比，并且系统没有未执行的磁盘I/O请求。 |